services:
  mysql:
    image: mysql:8.0
    volumes:
      - mysql_data:/var/lib/mysql
    environment:
      - MYSQL_ROOT_PASSWORD
      - MYSQL_DATABASE
      - MYSQL_USER
      - MYSQL_PASSWORD
    ports:
      - "3306:3306"
    restart: unless-stopped

  minio: # ← NEW SERVICE
    image: minio/minio:latest # ← Official MinIO image
    command: server /data --console-address ":9001" # ← Start MinIO server
    volumes:
      - minio_data:/data # ← Persist uploaded files
    environment:
      - MINIO_ROOT_USER # ← Access key (from .env)
      - MINIO_ROOT_PASSWORD # ← Secret key (from .env)
    ports:
      - "9000:9000" # ← MinIO API
      - "9001:9001" # ← MinIO Console (web UI)
    restart: unless-stopped

  volumes:
    mysql_data:
    minio_data: # ← NEW VOLUME
